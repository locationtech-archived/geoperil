<!DOCTYPE html>
<html lang="en">

<head>
    <title>GeoPeril</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="../css/bootstrap.css" rel="stylesheet">
    <link href="style.css" rel="stylesheet">
    <link href="../geohazard.css" rel="stylesheet">
</head>

<body>
    <div class="outside">
        <div class="wrapper">
            <div class="border">
                <div class="container fullsize">
                    <div class="row gfz-head">
                        <img class="gfz-logo pull-left" alt="GFZ Logo" src="../img/logo_gfz_en.gif">
                        <img class="gfz-wordmark pull-right" alt="GFZ Wordmark" src="../img/wordmark_gfz_en.gif">
                    </div>
                    <hr>
                    <div class="headline">
                        <ul class="head-blk head-right">
                        <!--
                            <li><a href="http://trac.gfz-potsdam.de/easywave" target="_blank">easyWave</a></li>
                            <li class="divider"><span>|</span></li>
                            <li><a href="http://geofon.gfz-potsdam.de/eqinfo/list.php?mode=mt" target="_blank">GEOFON</a></li>
                            <li class="divider"><span>|</span></li>
                            <li><a href="#AboutDia" data-toggle="modal">About</a></li>
                            <li class="divider"><span>|</span></li>
                            <li><a href="#ContactDialog" data-toggle="modal">Connect</a></li>
                        -->
                        </ul>
                        <ul class="head-blk head-right head-buttons">
                            <li id="grpSignOut" class="btn-group">
                                <button id="btnProp" type="button" class="btn btn-default">
                                    <span class="glyphicon glyphicon-cog"></span>
                                </button>
                                <button id="btnAdmin" type="button" class="btn btn-default">
                                    <span class="glyphicon glyphicon-user"></span>
                                </button>
                                <button id="btnSignOut" type="button" class="btn btn-primary">Sign Out</button>
                            </li>
                        </ul>
                        <ul class="head-blk head-right">
                            <li>
                                <a href="" id="lnkUser"></a>
                            </li>
                        </ul>
                        <ul class="clear"></ul>
                    </div>
                    <!-- end of headline -->
                    <hr>
                    <div class="sec-label">Description</div>
                    <div class="url">The <i>data_insert</i> API accepts HTTP POST requests, allows the creation of an event entry with specific event parameters and allows the computation based on the given event parameters.</div>

                    <div class="sec-label">URL</div>
                    <div class="url">http://localhost/srv/data_insert</div>

                    <div class="sec-label">Input parameter</div>
                    <table>
                        <tr>
                            <th>Property</th>
                            <th>Description</th>
                            <th class="status">Status</th>
                        </tr>
                        <tr>
                            <td class="param">apikey</td>
                            <td class="descr">
                                A string of 32 characters that authorizes the usage of this API. It is linked to a user or institution account.
                            </td>
                            <td class="status">Mandatory</td>
                        </tr>
                        <tr>
                            <td class="param">id</td>
                            <td class="descr">
                                The unique ID of the event for which information should be inserted, e.g. id=tc_0001. Please note that the ID has to be constructed carefully and should include information of the originator/creator of this event so that the ID is not in conflict with another event ID. Furthermore, it is recommended to add a number which is based on a counter (0001 in this example for the very first simulation computation) so that simulation computations for different events are separated from each other.
                                <br/> Additionally, please note that for each event refinemements are accepted which means that using the same id several times results in a refinement for the very same event, e.g. using id=tc_0001 three times results in three refinements. Accessing the event and it's refinements can be done by using the <i>get_event_info</i>, <i>datasrv</i> or <i>status</i> APIs with the finally constructed evid (see return values).
                            </td>
                            <td class="status">Mandatory</td>
                        </tr>
                        <tr>
                            <td class="param">name</td>
                            <td class="descr">
                                The name of the earthquake (or hypothetical event). It should be a crispy and meaningful title.
                            </td>
                            <td class="status">Mandatory</td>
                        </tr>
                        <tr>
                            <td class="param">date</td>
                            <td class="descr">
                                The origin time of the earthquake (or hypothetical event) in UTC. The date has to be given in ISO format: yyyy-MM-dd'T'HH:mm:ss.SSS'Z' (without quotes).
                            </td>
                            <td class="status">Mandatory</td>
                        </tr>
                        <tr>
                            <td class="param">lat</td>
                            <td class="descr">
                                The latitude of the earthquake in the range of -90 to +90 degrees, e.g -42.57.
                            </td>
                            <td class="status">Mandatory</td>
                        </tr>
                        <tr>
                            <td class="param">lon</td>
                            <td class="descr">
                                The longitude of the earthquake in the range of -180 to +180 degrees, e.g. 173.01.
                            </td>
                            <td class="status">Mandatory</td>
                        </tr>
                        <tr>
                            <td class="param">depth</td>
                            <td class="descr">
                                The depth of the earthquake in kilometers, e.g. 10.1.
                            </td>
                            <td class="status">Mandatory</td>
                        </tr>
                        <tr>
                            <td class="param">strike</td>
                            <td class="descr">
                                Fault strike of the earthquake in the range of 0 to 360 degrees, e.g 354.0.
                            </td>
                            <td class="status">Mandatory</td>
                        </tr>
                        <tr>
                            <td class="param">dip</td>
                            <td class="descr">
                                Fault dip of the earthquake in the range of 0 to 90 degrees, e.g. 78.0.
                            </td>
                            <td class="status">Mandatory</td>
                        </tr>
                        <tr>
                            <td class="param">rake</td>
                            <td class="descr">
                                Rake of the earthquake in the range of -180 to +180 degrees, e.g. 76.0.
                            </td>
                            <td class="status">Mandatory</td>
                        </tr>
                        <tr>
                            <td class="param">mag</td>
                            <td class="descr">
                                The magnitude of the earthquake, e.g. 7.9. The parameter mag cannot be used together with slip, length, width.
                            </td>
                            <td class="status">Mandatory, if slip, length, width aren't given.</td>
                        </tr>
                        <tr>
                            <td class="param">slip</td>
                            <td class="descr">
                                Displacement slip of the earthquake in meters. The parameter slip has to be used together with length and width and cannot be used together with mag.
                            </td>
                            <td class="status">Mandatory, if mag isn't given.</td>
                        </tr>
                        <tr>
                            <td class="param">length</td>
                            <td class="descr">
                                Displacement length of the earthquake in kilometers. The parameter length has to be used together with slip and width and cannot be used together with mag.
                            </td>
                            <td class="status">Mandatory, if mag isn't given.</td>
                        </tr>
                        <tr>
                            <td class="param">width</td>
                            <td class="descr">
                                Displacement width of the earthquake in kilometers. The parameter width has to be used together with slip and length and cannot be used together with mag.
                            </td>
                            <td class="status">Mandatory, if mag isn't given.</td>
                        </tr>
                        <tr>
                            <td class="param">comp</td>
                            <td class="descr">
                                The time in minutes for the wave propagation as boundary condition when the simulation computation is stopped, e.g. comp=180 for a computation of a tsunami simulation with 3 hours wave propagation. Once the comp parameter is given the computation is started automatically for the event with the given event parameters. Please note that a computation for a simulation of 3 hours does not last that long and might be finished within 10 seconds.
                                <br/> The status of the computation can be obtained by using the <i>status</i> API.
                            </td>
                            <td class="status">Mandatory</td>
                        </tr>
                    </table>

                    <div class="sec-label">Return value</div>
                    <table>
                        <tr>
                            <th>Property</th>
                            <th>Description</th>
                            <th>Status</th>
                        </tr>
                        <tr>
                            <td class="param">status</td>
                            <td class="descr">
                                States the status of the request. Can be one of the following:
                                <ul>
                                    <li>
                                        <i>success:</i> The operation was successfully accomplished. The values of the remaining fields are valid.
                                    </li>
                                    <li>
                                        <i>failure:</i> An error occurred while trying to apply the request. This may be caused by invalid input parameter values.
                                    </li>
                                    <li>
                                        <i>denied:</i> The access to this API was denied. The given API key is incorrect or not valid in conjunction with the API used.
                                    </li>
                                </ul>
                            </td>
                            <td class="status">Always valid.</td>
                        </tr>
                        <tr>
                            <td class="param">evtid</td>
                            <td class="descr">
                                Contains the unique event ID used by the platform. This unique event ID is composed of three parts: the value provided with the id parameter, the unique user id, and the refinement id.
                            </td>
                            <td class="status">Valid if <i>status</i> is set to <i>success</i>.</td>
                        </tr>
                        <tr>
                            <td class="param">refineId</td>
                            <td class="descr">
                                Contains the number of refinement.
                            </td>
                            <td class="status">Valid if <i>status</i> is set to <i>success</i>.</td>
                        </tr>
                        <tr>
                            <td class="param">msg</td>
                            <td class="descr">
                                Contains further information if feasible.
                            </td>
                            <td class="status">Valid, e.g. if <i>status</i> is set to <i>failure</i>.</td>
                        </tr>
                    </table>

                    <div class="sec-label">API Examples</div>
                    <div>
                        <div class="url" style="overflow-wrap: break-word;">
                            $ curl --data "apikey=***&id=tcapidoc0001&comp=180&mag=7.8&dip=25&strike=225&rake=134&depth=10.0&lat=-42.73&lon=173.25&date=2016-11-15T16:20:00.00Z&name=NZL API Doc Example" http://localhost/srv/data_insert
                            <br/>
                            <br/> $ curl --data "apikey=***&id=tcapidoc0002&comp=180&slip=16.0&length=40.0&width=60&dip=50&strike=97&rake=90&depth=15.0&lat=10.8&lon=-66&date=2016-11-15T16:20:00.00Z&name=VEN API Doc Example" http://localhost/srv/data_insert
                        </div>
                    </div>
                </div>
            </div>
        </div>
</body>

</html>
